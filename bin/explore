#!/usr/bin/env python3

import sys
import requests
import json

if len(sys.argv) < 2:
    print("Usage: explore <plan1> [plan2] [plan3] ...")
    sys.exit(1)

plans = sys.argv[1:]

print(f"Exploring with {len(plans)} plan(s): {', '.join(plans)}")

data = {
    "id": "awwaiid@thelackthereof.org zFPVkfKRKAgDUdmVr2Oi1A",
    "plans": plans
}

response = requests.post(
    "https://31pwr5t6ij.execute-api.eu-west-2.amazonaws.com/explore",
    headers={"Content-Type": "application/json"},
    json=data
)

print(f"Status: {response.status_code}")
print(response.text)